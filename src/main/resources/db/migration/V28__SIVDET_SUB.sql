

CREATE TABLE SIVDET_SUB
(
    "ID"            NUMBER(20, 0) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    "SIVDET_ID"     NUMBER(20, 0)     NOT NULL ENABLE,
    "COMPANY_CODE"  VARCHAR2(3 BYTE) NOT NULL ENABLE,
    "PLANT_NO"      NUMBER(3,0) NOT NULL ENABLE,
    "SUB_TYPE"      VARCHAR2(10 BYTE) NOT NULL ENABLE,
    "SIV_NO"        VARCHAR2(15 BYTE) NOT NULL ENABLE,
    "SEQ_NO"        NUMBER(3,0) NOT NULL ENABLE,
    "DETAIL_SEQ"    NUMBER(3,0) NOT NULL ENABLE,
    "ITEM_NO"       VARCHAR2(15 BYTE),
    "SALE_TYPE"     VARCHAR2(1 BYTE),
    "DOCM_NO"       VARCHAR2(15 BYTE),
    "ISSUED_QTY"    NUMBER(16,4),
    CONSTRAINT      "SIVDET_SUB_FK" FOREIGN KEY ("SIVDET_ID")
         REFERENCES SIVDET ("ID") ENABLE
);

CREATE UNIQUE INDEX "SIVDET_SUB_PK" ON "SIVDET_SUB" ("ID");

ALTER TABLE "SIVDET_SUB" ADD CONSTRAINT "SIVDET_SUB_PK" PRIMARY KEY ("ID")
    USING INDEX "SIVDET_SUB_PK"  ENABLE;

CREATE UNIQUE INDEX UNIQUE_SIVDET_SUB_IDX ON SIVDET_SUB ("COMPANY_CODE", "PLANT_NO", "SUB_TYPE", "SIV_NO", "SEQ_NO", "DETAIL_SEQ");
